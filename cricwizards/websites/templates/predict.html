{% extends "base.html" %}

{% block content %}
<div class="prediction-container">
    <h1 class="mb-4">{{ team_name }} - Predicted Best XI</h1>
    
    {% if best_xi %}
        <div class="team-section">
            <!-- Wicketkeeper Section -->
            <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <h2 class="h5 mb-0">Wicketkeeper</h2>
                </div>
                <div class="card-body">
                    {% for player in best_xi.wicketkeeper %}
                    <div class="player-card">
                        <h3>{{ player.name }}</h3>
                        <p>Rating: {{ "%.1f"|format(player.batting_rating) }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Batsmen Section -->
            <div class="card mb-4">
                <div class="card-header bg-success text-white">
                    <h2 class="h5 mb-0">Batsmen</h2>
                </div>
                <div class="card-body">
                    {% for player in best_xi.batsmen %}
                    <div class="player-card">
                        <h3>{{ player.name }}</h3>
                        <p>Rating: {{ "%.1f"|format(player.batting_rating) }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- All-rounders Section -->
            <div class="card mb-4">
                <div class="card-header bg-warning text-dark">
                    <h2 class="h5 mb-0">All-rounders</h2>
                </div>
                <div class="card-body">
                    {% for player in best_xi.allrounders %}
                    <div class="player-card">
                        <h3>{{ player.name }}</h3>
                        <p>Batting: {{ "%.1f"|format(player.batting_rating) }}</p>
                        <p>Bowling: {{ "%.1f"|format(player.bowling_rating) }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Bowlers Section -->
            <div class="card mb-4">
                <div class="card-header bg-danger text-white">
                    <h2 class="h5 mb-0">Bowlers</h2>
                </div>
                <div class="card-body">
                    {% for player in best_xi.bowlers %}
                    <div class="player-card">
                        <h3>{{ player.name }}</h3>
                        <p>Rating: {{ "%.1f"|format(player.bowling_rating) }}</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        
        <!-- Team Stats Section -->
        <div class="card mt-4">
            <div class="card-header bg-info text-white">
                <h2 class="h5 mb-0">Team Statistics</h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h3>Batting Stats</h3>
                        <ul class="list-unstyled">
                            <li>Total Players: {{ team_stats.total_players }}</li>
                            <li>Total Runs: {{ team_stats.batting.total_runs }}</li>
                            <li>Total Innings: {{ team_stats.batting.total_innings }}</li>
                            <li>Batting Average: {{ "%.2f"|format(team_stats.batting.average) }}</li>
                            <li>Strike Rate: {{ "%.2f"|format(team_stats.batting.strike_rate) }}</li>
                            <li>Boundaries: {{ team_stats.batting.total_fours }} fours, {{ team_stats.batting.total_sixes }} sixes</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h3>Bowling Stats</h3>
                        <ul class="list-unstyled">
                            <li>Total Wickets: {{ team_stats.bowling.total_wickets }}</li>
                            <li>Total Overs: {{ team_stats.bowling.total_overs }}</li>
                            <li>Economy Rate: {{ "%.2f"|format(team_stats.bowling.economy_rate) }}</li>
                            <li>Bowling Average: {{ "%.2f"|format(team_stats.bowling.bowling_average) }}</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="team-rating mt-4">
            <h2>Team Rating: {{ "%.1f"|format(best_xi.total_rating) }}</h2>
        </div>
    {% else %}
        <div class="alert alert-warning">
            <p>No team data available</p>
        </div>
    {% endif %}
</div>
{% endblock %}